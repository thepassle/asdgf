var U=Object.defineProperty;var ae=t=>U(t,"__esModule",{value:!0});var ue=(t,e)=>{ae(t);for(var n in e)U(t,n,{get:e[n],enumerable:!0})};var se={};ue(se,{Assertion:()=>z,equal:()=>Fe,fixture:()=>Re,instance:()=>Ie,is:()=>oe,match:()=>He,not:()=>w,ok:()=>Se,snapshot:()=>Te,throws:()=>qe,type:()=>Ae,unreachable:()=>Oe});var j=Object.prototype.hasOwnProperty;function X(t,e,n){for(n of t.keys())if(E(n,e))return n}function E(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&E(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=X(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=X(e,i),!i)||!E(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(j.call(t,n)&&++r&&!j.call(e,n)||!(n in e)||!E(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}"use strict";var M,Z,P,Q,K=!0;typeof process!="undefined"&&({FORCE_COLOR:M,NODE_DISABLE_COLORS:Z,NO_COLOR:P,TERM:Q}=process.env,K=process.stdout&&process.stdout.isTTY);var u={enabled:!Z&&P==null&&Q!=="dumb"&&(M!=null&&M!=="0"||K),reset:d(0,0),bold:d(1,22),dim:d(2,22),italic:d(3,23),underline:d(4,24),inverse:d(7,27),hidden:d(8,28),strikethrough:d(9,29),black:d(30,39),red:d(31,39),green:d(32,39),yellow:d(33,39),blue:d(34,39),magenta:d(35,39),cyan:d(36,39),white:d(37,39),gray:d(90,39),grey:d(90,39),bgBlack:d(40,49),bgRed:d(41,49),bgGreen:d(42,49),bgYellow:d(43,49),bgBlue:d(44,49),bgMagenta:d(45,49),bgCyan:d(46,49),bgWhite:d(47,49)};function k(t,e){let n=0,r,i="",l="";for(;n<t.length;n++)r=t[n],i+=r.open,l+=r.close,~e.indexOf(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return i+e+l}function de(t,e){let n={has:t,keys:e};return n.reset=u.reset.bind(n),n.bold=u.bold.bind(n),n.dim=u.dim.bind(n),n.italic=u.italic.bind(n),n.underline=u.underline.bind(n),n.inverse=u.inverse.bind(n),n.hidden=u.hidden.bind(n),n.strikethrough=u.strikethrough.bind(n),n.black=u.black.bind(n),n.red=u.red.bind(n),n.green=u.green.bind(n),n.yellow=u.yellow.bind(n),n.blue=u.blue.bind(n),n.magenta=u.magenta.bind(n),n.cyan=u.cyan.bind(n),n.white=u.white.bind(n),n.gray=u.gray.bind(n),n.grey=u.grey.bind(n),n.bgBlack=u.bgBlack.bind(n),n.bgRed=u.bgRed.bind(n),n.bgGreen=u.bgGreen.bind(n),n.bgYellow=u.bgYellow.bind(n),n.bgBlue=u.bgBlue.bind(n),n.bgMagenta=u.bgMagenta.bind(n),n.bgCyan=u.bgCyan.bind(n),n.bgWhite=u.bgWhite.bind(n),n}function d(t,e){let n={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(!!~this.has.indexOf(t)||(this.has.push(t),this.keys.push(n)),r===void 0?this:u.enabled?k(this.keys,r+""):r+""):r===void 0?de([t],[n]):u.enabled?k([n],r+""):r+""}}var v=u;function m(){}m.prototype={diff:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var l=this;function f(p){return i?(setTimeout(function(){i(void 0,p)},0),!0):p}e=this.castInput(e),n=this.castInput(n),e=this.removeEmpty(this.tokenize(e)),n=this.removeEmpty(this.tokenize(n));var o=n.length,s=e.length,a=1,h=o+s,g=[{newPos:-1,components:[]}],b=this.extractCommon(g[0],n,e,0);if(g[0].newPos+1>=o&&b+1>=s)return f([{value:this.join(n),count:n.length}]);function S(){for(var p=-1*a;p<=a;p+=2){var y=void 0,F=g[p-1],O=g[p+1],T=(O?O.newPos:0)-p;F&&(g[p-1]=void 0);var Y=F&&F.newPos+1<o,G=O&&0<=T&&T<s;if(!Y&&!G){g[p]=void 0;continue}if(!Y||G&&F.newPos<O.newPos?(y=he(O),l.pushComponent(y.components,void 0,!0)):(y=F,y.newPos++,l.pushComponent(y.components,!0,void 0)),T=l.extractCommon(y,n,e,p),y.newPos+1>=o&&T+1>=s)return f(ce(l,y.components,n,e,l.useLongestToken));g[p]=y}a++}if(i)(function p(){setTimeout(function(){if(a>h)return i();S()||p()},0)})();else for(;a<=h;){var H=S();if(H)return H}},pushComponent:function(e,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={count:i.count+1,added:n,removed:r}:e.push({count:1,added:n,removed:r})},extractCommon:function(e,n,r,i){for(var l=n.length,f=r.length,o=e.newPos,s=o-i,a=0;o+1<l&&s+1<f&&this.equals(n[o+1],r[s+1]);)o++,s++,a++;return a&&e.components.push({count:a}),e.newPos=o,s},equals:function(e,n){return this.options.comparator?this.options.comparator(e,n):e===n||this.options.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function ce(t,e,n,r,i){for(var l=0,f=e.length,o=0,s=0;l<f;l++){var a=e[l];if(a.removed){if(a.value=t.join(r.slice(s,s+a.count)),s+=a.count,l&&e[l-1].added){var g=e[l-1];e[l-1]=e[l],e[l]=g}}else{if(!a.added&&i){var h=n.slice(o,o+a.count);h=h.map(function(S,H){var p=r[s+H];return p.length>S.length?p:S}),a.value=t.join(h)}else a.value=t.join(n.slice(o,o+a.count));o+=a.count,a.added||(s+=a.count)}}var b=e[f-1];return f>1&&typeof b.value=="string"&&(b.added||b.removed)&&t.equals("",b.value)&&(e[f-2].value+=b.value,e.pop()),e}function he(t){return{newPos:t.newPos,components:t.components.slice(0)}}var pe=new m;function _(t,e,n){return pe.diff(t,e,n)}var ee=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ne=/\S/,te=new m;te.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!ne.test(t)&&!ne.test(e)};te.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&ee.test(e[n])&&ee.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var C=new m;C.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function re(t,e,n){return C.diff(t,e,n)}var ge=new m;ge.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var ve=new m;ve.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function $(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(e){return typeof e}:$=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(t)}var we=Object.prototype.toString,A=new m;A.useLongestToken=!0;A.tokenize=C.tokenize;A.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(l,f){return typeof f=="undefined"?n:f}:r;return typeof t=="string"?t:JSON.stringify(W(t,null,null,i),i,"  ")};A.equals=function(t,e){return m.prototype.equals.call(A,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function W(t,e,n,r,i){e=e||[],n=n||[],r&&(t=r(i,t));var l;for(l=0;l<e.length;l+=1)if(e[l]===t)return n[l];var f;if(we.call(t)==="[object Array]"){for(e.push(t),f=new Array(t.length),n.push(f),l=0;l<t.length;l+=1)f[l]=W(t[l],e,n,r,i);return e.pop(),n.pop(),f}if(t&&t.toJSON&&(t=t.toJSON()),$(t)==="object"&&t!==null){e.push(t),f={},n.push(f);var o=[],s;for(s in t)t.hasOwnProperty(s)&&o.push(s);for(o.sort(),l=0;l<o.length;l+=1)s=o[l],f[s]=W(t[s],e,n,r,s);e.pop(),n.pop()}else f=t;return f}var R=new m;R.tokenize=function(t){return t.slice()};R.join=R.removeEmpty=function(t){return t};function ie(t,e,n){return R.diff(t,e,n)}var x={"--":v.red,"\xB7\xB7":v.grey,"++":v.green},N=v.dim().italic,ye=v.dim("\u2192"),me=v.dim("\xB7"),Le=v.dim("\u21B5"),q=(t,e)=>x[t](t+B(e))+`
`,be=(t,e)=>v.dim("L"+String(t).padStart(e,"0")+" "),B=t=>t.replace(/[ ]/g,me).replace(/\t/g,ye).replace(/(\r?\n)/g,Le);function Ee(t,e,n){let r=t.removed?"--":t.added?"++":"\xB7\xB7",i=t.value.replace(/\r?\n$/,"").split(`
`),l=0,f,o="";for(t.added?o+=x[r]().underline(N("Expected:"))+`
`:t.removed&&(o+=x[r]().underline(N("Actual:"))+`
`);l<i.length;l++)f=i[l],f!=null&&(e&&(o+=be(e+l,n)),o+=q(r,f||`
`));return o}function xe(t,e){let n=ie(t,e),r=0,i=0,l=0,f,o,s,a,h,g=q("\xB7\xB7","[");for(;r<n.length;r++)for(s=(f=n[r]).removed?"--":f.added?"++":"\xB7\xB7",f.added?g+=x[s]().underline(N("Expected:"))+`
`:f.removed&&(g+=x[s]().underline(N("Actual:"))+`
`),i=0;i<f.value.length;i++)for(a=f.value[i]&&typeof f.value[i]=="object",o=J(f.value[i]).split(/\r?\n/g),l=0;l<o.length;)h="  "+o[l++]+(a?"":","),a&&l===o.length&&i+1<f.value.length&&(h+=","),g+=q(s,h);return g+q("\xB7\xB7","]")}function I(t,e,n=0){let r=0,i,l="",f=re(t,e),o=String(e.split(/\r?\n/g).length-n).length;for(;r<f.length;r++)l+=Ee(i=f[r],n,o),n&&!i.removed&&(n+=i.count);return l}function le(t,e){let n=_(t,e),r=0,i="",l,f=t.length,o=e.length,s=B(t),a=B(e);if(l=n[r],f!==o){if(l.removed&&n[r+1]){let h=l.count-n[r+1].count;h==0||(h>0?(e=" ".repeat(h)+e,a=" ".repeat(h)+a,o+=h):h<0&&(t=" ".repeat(-h)+t,s=" ".repeat(-h)+s,f+=-h))}}if(i+=fe(s,a,f,o),f===o)for(l="  ";r<f;r++)l+=t[r]===e[r]?" ":"^";else for(l="  ";r<n.length;r++)l+=(n[r].added||n[r].removed?"^":" ").repeat(Math.max(n[r].count,0)),r+1<n.length&&(n[r].added&&n[r+1].removed||n[r].removed&&n[r+1].added)&&(n[r+1].count-=n[r].count);return i+v.red(l)}function fe(t,e,n=String(t).length,r=String(e).length){let i=4,l=Math.max(n,r),f=typeof t,o=typeof e;if(f!==o){i=2;let a=i+l-n,h=i+l-r;t+=" ".repeat(a)+v.dim(`[${f}]`),e+=" ".repeat(h)+v.dim(`[${o}]`),n+=a+f.length+2,r+=h+o.length+2,l=Math.max(n,r)}return x["++"]("++"+e+" ".repeat(i+l-r)+N("(Expected)"))+`
`+x["--"]("--"+t+" ".repeat(i+l-n)+N("(Actual)"))+`
`}function D(t,e){var n,r=0,i,l=Array.isArray(t),f=[],o=l?Array(t.length):{};if(l)for(r=0;r<o.length;r++)i=t[r],!i||typeof i!="object"?o[r]=i:o[r]=D(i,e[r]);else{for(n in e)f.push(n);for(;r<f.length;r++)Object.prototype.hasOwnProperty.call(t,n=f[r])&&(!(i=t[n])||typeof i!="object"?o[n]=i:o[n]=D(i,e[n]));for(n in t)o.hasOwnProperty(n)||(o[n]=t[n])}return o}function Ne(){var t=new Set;return function(n,r){return r===void 0?"[__VOID__]":typeof r=="number"&&r!==r?"[__NAN__]":!r||typeof r!="object"?r:t.has(r)?"[Circular]":(t.add(r),r)}}function J(t){return JSON.stringify(t,Ne(),2).replace(/"\[__NAN__\]"/g,"NaN").replace(/"\[__VOID__\]"/g,"undefined")}function V(t,e){if(Array.isArray(e))return xe(t,e);if(e instanceof RegExp)return le(""+t,""+e);e&&typeof e=="object"&&(t=J(D(t,e)),e=J(e));let n=typeof t=="string",r=typeof e=="string";return n&&/\r?\n/.test(t)?I(t,""+e):r&&/\r?\n/.test(e)?I(""+t,e):n&&r?le(t,e):fe(t,e)}function L(t){let e=t.match(/^[ \t]*(?=\S)/gm),n=!!e&&Math.min(...e.map(r=>r.length));return!e||!n?t:t.replace(new RegExp(`^[ \\t]{${n}}`,"gm"),"")}var z=class extends Error{constructor(e={}){super(e.message);this.name="Assertion",this.code="ERR_ASSERTION",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.details=e.details||!1,this.generated=!!e.generated,this.operator=e.operator,this.expects=e.expects,this.actual=e.actual}};function c(t,e,n,r,i,l,f){if(t)return;let o=f||l;if(f instanceof Error)throw f;let s=i&&i(e,n);throw new z({actual:e,expects:n,operator:r,message:o,details:s,generated:!f})}function Se(t,e){c(!!t,!1,!0,"ok",!1,"Expected value to be truthy",e)}function oe(t,e,n){c(t===e,t,e,"is",V,"Expected values to be strictly equal:",n)}function Fe(t,e,n){c(E(t,e),t,e,"equal",V,"Expected values to be deeply equal:",n)}function Oe(t){c(!1,!0,!1,"unreachable",!1,"Expected not to be reached!",t)}function Ae(t,e,n){let r=typeof t;c(r===e,r,e,"type",!1,`Expected "${r}" to be "${e}"`,n)}function Ie(t,e,n){let r="`"+(e.name||e.constructor.name)+"`";c(t instanceof e,t,e,"instance",!1,`Expected value to be an instance of ${r}`,n)}function He(t,e,n){if(typeof e=="string")c(t.includes(e),t,e,"match",!1,`Expected value to include "${e}" substring`,n);else{let r="`"+String(e)+"`";c(e.test(t),t,e,"match",!1,`Expected value to match ${r} pattern`,n)}}function Te(t,e,n){t=L(t),e=L(e),c(t===e,t,e,"snapshot",I,"Expected value to match snapshot:",n)}var $e=(t,e)=>I(t,e,1);function Re(t,e,n){t=L(t),e=L(e),c(t===e,t,e,"fixture",$e,"Expected value to match fixture:",n)}function qe(t,e,n){!n&&typeof e=="string"&&(n=e,e=null);try{t(),c(!1,!1,!0,"throws",!1,"Expected function to throw",n)}catch(r){if(r instanceof z)throw r;if(typeof e=="function")c(e(r),!1,!0,"throws",!1,"Expected function to throw matching exception",n);else if(e instanceof RegExp){let i="`"+String(e)+"`";c(e.test(r.message),!1,!0,"throws",!1,`Expected function to throw exception matching ${i} pattern`,n)}}}function w(t,e){c(!t,!0,!1,"not",!1,"Expected value to be falsey",e)}w.ok=w;oe.not=function(t,e,n){c(t!==e,t,e,"is.not",!1,"Expected values not to be strictly equal",n)};w.equal=function(t,e,n){c(!E(t,e),t,e,"not.equal",!1,"Expected values not to be deeply equal",n)};w.type=function(t,e,n){let r=typeof t;c(r!==e,r,e,"not.type",!1,`Expected "${r}" not to be "${e}"`,n)};w.instance=function(t,e,n){let r="`"+(e.name||e.constructor.name)+"`";c(!(t instanceof e),t,e,"not.instance",!1,`Expected value not to be an instance of ${r}`,n)};w.snapshot=function(t,e,n){t=L(t),e=L(e),c(t!==e,t,e,"not.snapshot",!1,"Expected value not to match snapshot",n)};w.fixture=function(t,e,n){t=L(t),e=L(e),c(t!==e,t,e,"not.fixture",!1,"Expected value not to match fixture",n)};w.match=function(t,e,n){if(typeof e=="string")c(!t.includes(e),t,e,"not.match",!1,`Expected value not to include "${e}" substring`,n);else{let r="`"+String(e)+"`";c(!e.test(t),t,e,"not.match",!1,`Expected value not to match ${r} pattern`,n)}};w.throws=function(t,e,n){!n&&typeof e=="string"&&(n=e,e=null);try{t()}catch(r){if(typeof e=="function")c(!e(r),!0,!1,"not.throws",!1,"Expected function not to throw matching exception",n);else if(e instanceof RegExp){let i="`"+String(e)+"`";c(!e.test(r.message),!0,!1,"not.throws",!1,`Expected function not to throw exception matching ${i} pattern`,n)}else e||c(!1,!0,!1,"not.throws",!1,"Expected function not to throw",n)}};export{se as assert};
